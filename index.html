<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DerivApp - Percorso Matematico Guidato</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
</head>
<body class="theme-light font-medium">

    <header>
        <div class="branding">
            <h1>DerivApp 🧠</h1>
            <p class="subtitle">Percorso personalizzato tra derivate, limiti e funzioni</p>
        </div>
        <nav class="main-nav">
            <button class="nav-button active" data-target="home">🏠 Home</button>
            <button class="nav-button" data-target="exercises">🎯 Esercizi</button>
            <button class="nav-button" data-target="theory">📚 Teoria</button>
            <button class="nav-button" data-target="chatbot">🤖 Chatbot GPT</button>
            <button class="nav-button" data-target="feedback">💡 Suggerimenti</button>
            <button class="nav-button" data-target="progress">📈 Progressi</button>
            <button class="nav-button" data-target="settings">⚙️ Impostazioni</button>
        </nav>
    </header>

    <main>
        <section id="home" class="app-section active">
            <h2>Benvenuto in DerivApp</h2>
            <p>Una piattaforma pensata per allenare e comprendere in modo graduale Derivate, Limiti e Funzioni. Scegli da dove iniziare e tieni sempre sotto controllo i tuoi progressi.</p>
            <div class="quick-access">
                <article class="quick-card" data-target-section="exercises" data-topic="derivate">
                    <h3>⚡ Derivate</h3>
                    <p>Esercizi progressivi e regole essenziali per calcolare le derivate con sicurezza.</p>
                </article>
                <article class="quick-card" data-target-section="exercises" data-topic="limiti">
                    <h3>♾️ Limiti</h3>
                    <p>Affronta limiti notevoli, forme indeterminate e strategie passo-passo.</p>
                </article>
                <article class="quick-card" data-target-section="exercises" data-topic="funzioni">
                    <h3>📈 Funzioni</h3>
                    <p>Analisi delle funzioni, dominio, monotonia e studio qualitativo.</p>
                </article>
                <article class="quick-card" data-target-section="settings" data-topic="">
                    <h3>⚙️ Impostazioni</h3>
                    <p>Personalizza tema, difficoltà e notifiche per un percorso su misura.</p>
                </article>
            </div>
        </section>

        <section id="exercises" class="app-section hidden">
            <div class="section-header">
                <div>
                    <h2>🎯 Esercizi Interattivi</h2>
                    <p>Scegli l'argomento e allenati con esercizi classificati per difficoltà. Ottieni correzioni immediate e suggerimenti mirati.</p>
                </div>
                <div class="stats-chip">
                    <span id="exercise-counter">0</span> esercizi completati oggi
                </div>
            </div>

            <div class="topic-selector" id="topic-selector">
                <button class="topic-button active" data-topic="derivate">Derivate</button>
                <button class="topic-button" data-topic="limiti">Limiti</button>
                <button class="topic-button" data-topic="funzioni">Funzioni</button>
            </div>

            <div class="difficulty-grid">
                <div class="difficulty-column" data-difficulty="simple">
                    <h3>⭐ Semplici</h3>
                    <p class="difficulty-description">Applicazione diretta di una regola o riconoscimento di forme notevoli.</p>
                    <div id="simple-exercises" class="exercise-list"></div>
                </div>
                <div class="difficulty-column" data-difficulty="medium">
                    <h3>🔶 Medi</h3>
                    <p class="difficulty-description">Problemi con combinazioni di regole o passaggi intermedi da esplicitare.</p>
                    <div id="medium-exercises" class="exercise-list"></div>
                </div>
                <div class="difficulty-column" data-difficulty="complex">
                    <h3>🟥 Complessi</h3>
                    <p class="difficulty-description">Catene di passaggi, cambi di variabile o più strategie da coordinare.</p>
                    <div id="complex-exercises" class="exercise-list"></div>
                </div>
            </div>
        </section>

        <section id="theory" class="app-section hidden">
            <h2>📚 Spiegazioni Teoriche</h2>
            <p>Regole, formule essenziali ed esempi passo-passo organizzati per argomento.</p>
            <div class="theory-tabs" id="theory-tabs">
                <button class="theory-button active" data-topic="derivate">Derivate</button>
                <button class="theory-button" data-topic="limiti">Limiti</button>
                <button class="theory-button" data-topic="funzioni">Funzioni</button>
            </div>
            <div id="theory-content" class="theory-content"></div>
        </section>

        <section id="chatbot" class="app-section hidden">
            <h2>🤖 Assistente GPT Integrato</h2>
            <p>Fai una domanda e ricevi una spiegazione personalizzata. L'assistente analizza i tuoi errori recenti per proporti suggerimenti utili.</p>
            <form id="chat-form">
                <label for="chat-question">Domanda o dubbio</label>
                <textarea id="chat-question" rows="5" placeholder="Es. Non capisco come applicare la regola della catena..."></textarea>
                <button type="submit" class="primary-button">Chiedi all'assistente</button>
            </form>
            <div id="chat-responses" class="chat-responses"></div>
        </section>

        <section id="feedback" class="app-section hidden">
            <h2>💡 Suggerimenti e Feedback</h2>
            <p>Consigli mirati per migliorare e segnalazione degli errori più frequenti.</p>
            <div id="suggestions-panel" class="suggestions-panel">
                <h3>Suggerimenti automatici</h3>
                <ul id="suggestions-list"></ul>
            </div>
            <div class="feedback-form">
                <h3>Lascia un feedback</h3>
                <form id="user-feedback-form">
                    <label for="user-feedback">Hai trovato un esercizio difficile o hai un suggerimento?</label>
                    <textarea id="user-feedback" rows="4" placeholder="Scrivi qui il tuo feedback..."></textarea>
                    <button type="submit" class="primary-button">Invia feedback</button>
                </form>
                <p id="feedback-message" class="feedback-message hidden"></p>
            </div>
        </section>

        <section id="progress" class="app-section hidden">
            <div class="section-header">
                <div>
                    <h2>📈 Progressione e Motivazione</h2>
                    <p>Visualizza le statistiche personali, sblocca badge e rivedi gli esercizi svolti.</p>
                </div>
                <button id="reset-progress" class="secondary-button">Azzera progressi</button>
            </div>
            <div id="progress-stats" class="progress-grid"></div>
        </section>

        <section id="settings" class="app-section hidden">
            <h2>⚙️ Impostazioni App</h2>
            <div class="settings-grid">
                <div class="setting-card">
                    <h3>Tema</h3>
                    <p>Scegli l'aspetto dell'interfaccia.</p>
                    <div class="setting-control">
                        <label class="switch">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider"></span>
                        </label>
                        <span id="theme-label">Tema chiaro</span>
                    </div>
                </div>
                <div class="setting-card">
                    <h3>Dimensione del testo</h3>
                    <p>Adatta la leggibilità alle tue preferenze.</p>
                    <div class="setting-control">
                        <select id="font-size">
                            <option value="font-small">Piccolo</option>
                            <option value="font-medium" selected>Medio</option>
                            <option value="font-large">Grande</option>
                        </select>
                    </div>
                </div>
                <div class="setting-card">
                    <h3>Notifiche</h3>
                    <p>Ricevi promemoria sugli esercizi e obiettivi quotidiani.</p>
                    <div class="setting-control">
                        <label class="switch">
                            <input type="checkbox" id="notifications-toggle">
                            <span class="slider"></span>
                        </label>
                        <span id="notifications-label">Notifiche disattivate</span>
                    </div>
                </div>
                <div class="setting-card">
                    <h3>Filtro difficoltà</h3>
                    <p>Mostra solo le difficoltà che vuoi allenare.</p>
                    <div class="setting-control">
                        <select id="difficulty-visibility">
                            <option value="all">Tutte</option>
                            <option value="simple">Solo semplici</option>
                            <option value="medium">Solo medie</option>
                            <option value="complex">Solo complesse</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 DerivApp Project. Creato per accompagnarti nello studio della matematica.</p>
    </footer>

    <script src="app.js"></script>
</body>
</html>
